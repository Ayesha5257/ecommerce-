import{p as y,d as m,l as p,n as q}from"./showToast-DVgJNvX1--OjBGhMz.js";y();const S=(l,r,i)=>{let c=y()||[];const n=document.querySelector(`#card${r}`);if(!n){console.error(`Product with ID #card${r} not found`);return}let t=parseInt(n.querySelector(".productQuantity").innerText)||1,o=n.querySelector(".productPrice").innerText;o=o.replace("Rs","").replace(",","").trim(),o=parseFloat(o);let u=c.find(a=>a.id===r);if(console.log(u),u&&t>1){t=Number(u.quantity)+Number(t),o=Number(o*t);let a={id:r,quantity:t,price:o};a=c.map(e=>e.id===r?a:e),localStorage.setItem("cartProductLs",JSON.stringify(a)),p("add",r)}if(u)return!1;if(isNaN(o)){console.error("Invalid price value");return}let d=o*t;c.push({id:r,quantity:t,price:d}),localStorage.setItem("cartProductLs",JSON.stringify(c)),q(c),p("add",r)},g=(l,r,i)=>{const c=document.querySelector(`#card${r}`);console.log(c);const n=c.querySelector(".productQuantity");let t=parseInt(n.getAttribute("data-quantity"))||1;l.target.className==="cartIncrement"&&(t<i?t+=1:t===i&&(t=i)),l.target.className==="cartDecrement"&&t>1&&(t-=1),n.innerHTML=t,console.log(t),n.setAttribute("data-quantity",t.toString())},f=document.querySelector("#productContainer"),N=document.querySelector("#productTemplate"),I=l=>{if(!l)return!1;l.forEach(r=>{const{brand:i,category:c,description:n,id:t,name:o,image:u,price:d,stock:a}=r,e=document.importNode(N.content,!0);e.querySelector("#cardValue").setAttribute("id",`card${t}`),e.querySelector(".productName").textContent=o,e.querySelector(".productImage").src=u,e.querySelector(".productImage").alt=u,e.querySelector(".category").textContent=c,e.querySelector(".productDescription").textContent=n,e.querySelector(".productStock").textContent=a,e.querySelector(".productPrice").textContent=`Rs.${d}`,e.querySelector(".productActualPrice").textContent=`Rs.${d*4}`,e.querySelector(".stockElement").addEventListener("click",s=>{g(s,t,a)}),e.querySelector(".add-to-cart-button").addEventListener("click",s=>{S(s,t)}),f.append(e)})};console.log(m);I(m);
