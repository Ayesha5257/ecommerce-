import{g as m,s as p,U as S,p as y}from"./showToast-BYVryQkk.js";m();const g=(l,r,i)=>{let c=m()||[];const n=document.querySelector(`#card${r}`);if(!n){console.error(`Product with ID #card${r} not found`);return}let t=parseInt(n.querySelector(".productQuantity").innerText)||1,o=n.querySelector(".productPrice").innerText;o=o.replace("Rs","").replace(",","").trim(),o=parseFloat(o);let u=c.find(a=>a.id===r);if(console.log(u),u&&t>1){t=Number(u.quantity)+Number(t),o=Number(o*t);let a={id:r,quantity:t,price:o};a=c.map(e=>e.id===r?a:e),localStorage.setItem("cartProductLs",JSON.stringify(a)),p("add",r)}if(u)return!1;if(isNaN(o)){console.error("Invalid price value");return}let s=o*t;c.push({id:r,quantity:t,price:s}),localStorage.setItem("cartProductLs",JSON.stringify(c)),S(c),p("add",r)},q=(l,r,i)=>{const c=document.querySelector(`#card${r}`);console.log(c);const n=c.querySelector(".productQuantity");let t=parseInt(n.getAttribute("data-quantity"))||1;l.target.className==="cartIncrement"&&(t<i?t+=1:t===i&&(t=i)),l.target.className==="cartDecrement"&&t>1&&(t-=1),n.innerHTML=t,console.log(t),n.setAttribute("data-quantity",t.toString())},f=document.querySelector("#productContainer"),C=document.querySelector("#productTemplate"),P=l=>{if(!l)return!1;l.forEach(r=>{const{brand:i,category:c,description:n,id:t,name:o,image:u,price:s,stock:a}=r,e=document.importNode(C.content,!0);e.querySelector("#cardValue").setAttribute("id",`card${t}`),e.querySelector(".productName").textContent=o,e.querySelector(".productImage").src=u,e.querySelector(".productImage").alt=u,e.querySelector(".category").textContent=c,e.querySelector(".productDescription").textContent=n,e.querySelector(".productStock").textContent=a,e.querySelector(".productPrice").textContent=`Rs.${s}`,e.querySelector(".productActualPrice").textContent=`Rs.${s*4}`,e.querySelector(".stockElement").addEventListener("click",d=>{q(d,t,a)}),e.querySelector(".add-to-cart-button").addEventListener("click",d=>{g(d,t)}),f.append(e)})};console.log(y);P(y);
